"use strict";(self.webpackChunkmyStore=self.webpackChunkmyStore||[]).push([[281],{2281:(S,_,a)=>{a.r(_),a.d(_,{CartModule:()=>k});var c=a(1083),m=a(9808),t=a(5e3),d=a(5231),h=a(1271),l=a(7322),C=a(7531),o=a(3075),p=a(7423),f=a(2181),Z=a(5245);function v(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Full Name is Required. "),t.qZA())}function y(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Full Name must be at least 3 characters long. "),t.qZA())}function T(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,v,2,0,"mat-error",7),t.YNc(2,y,2,0,"mat-error",7),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",null==r.fullName||null==r.fullName.errors?null:r.fullName.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.fullName||null==r.fullName.errors?null:r.fullName.errors.minlength)}}function x(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Address is Required. "),t.qZA())}function b(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Address must be at least 6 characters long. "),t.qZA())}function N(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,x,2,0,"mat-error",7),t.YNc(2,b,2,0,"mat-error",7),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",null==r.address||null==r.address.errors?null:r.address.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.address||null==r.address.errors?null:r.address.errors.minlength)}}function A(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Credit Card Number is Required. "),t.qZA())}function q(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Credit Card Number must be at least 16 digit long. "),t.qZA())}function P(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Credit Card Number must contain digit numbers only. "),t.qZA())}function F(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,A,2,0,"mat-error",7),t.YNc(2,q,2,0,"mat-error",7),t.YNc(3,P,2,0,"mat-error",7),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",null==r.creditCard||null==r.creditCard.errors?null:r.creditCard.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.creditCard||null==r.creditCard.errors?null:r.creditCard.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==r.creditCard||null==r.creditCard.errors?null:r.creditCard.errors.pattern)}}let U=(()=>{class e{constructor(r,n,s,u){this.cart=r,this.fb=n,this.router=s,this.route=u,this.price=0,this.paymentForm=this.fb.group({fullName:["",o.kI.compose([o.kI.required,o.kI.minLength(3)])],address:["",o.kI.compose([o.kI.required,o.kI.minLength(6)])],creditCard:["",o.kI.compose([o.kI.required,o.kI.minLength(16),o.kI.pattern("^[0-9]*$")])],checkout:[""]})}ngOnInit(){this.cart.totalPrice.subscribe(r=>{this.price=r})}onSubmit(){var r;this.paymentForm.invalid||(null===(r=this.paymentForm.get("checkout"))||void 0===r||r.setValue(this.price),this.cart.setConfirmBill(this.paymentForm.value),this.router.navigate(["confirmation"],{relativeTo:this.route}),this.cart.resetCartProducts())}get fullName(){return this.paymentForm.get("fullName")}get address(){return this.paymentForm.get("address")}get creditCard(){return this.paymentForm.get("creditCard")}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(d.N),t.Y36(o.qu),t.Y36(c.F0),t.Y36(c.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment-form"]],decls:29,vars:4,consts:[[1,"d-flex","justify-content-center","mt-4","mt-md-0"],[1,"my-form"],[3,"formGroup","ngSubmit"],[1,"row","mb-4"],["hintLabel","Min 3 characters","appearance","fill"],["matInput","","formControlName","fullName","required","","placeholder","Ex. Hazem Mohamed"],["align","end"],[4,"ngIf"],["hintLabel","Min 6 characters","appearance","fill"],["matInput","","formControlName","address","required","","placeholder","Ex. Cairo, Egypt"],["hintLabel","Min 16 characters","appearance","fill"],["matInput","","formControlName","creditCard","required",""],[1,"submission","pt-2"],[1,"text-muted","mb-3"],["type","submit","mat-raised-button","","color","primary"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),t._uU(6,"Full Name"),t.qZA(),t._UZ(7,"input",5)(8,"mat-hint",6),t.YNc(9,T,3,2,"mat-error",7),t.qZA()(),t.TgZ(10,"div",3)(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"Address"),t.qZA(),t._UZ(14,"input",9)(15,"mat-hint",6),t.YNc(16,N,3,2,"mat-error",7),t.qZA()(),t.TgZ(17,"div",3)(18,"mat-form-field",10)(19,"mat-label"),t._uU(20,"Credit-Card-Number"),t.qZA(),t._UZ(21,"input",11)(22,"mat-hint",6),t.YNc(23,F,4,3,"mat-error",7),t.qZA()(),t.TgZ(24,"div",12)(25,"p",13),t._uU(26,"We will never share your payment details with anyone else"),t.qZA(),t.TgZ(27,"button",14),t._uU(28,"Submit"),t.qZA()()()()()),2&r&&(t.xp6(2),t.Q6J("formGroup",n.paymentForm),t.xp6(7),t.Q6J("ngIf",(null==n.fullName?null:n.fullName.invalid)&&((null==n.fullName?null:n.fullName.dirty)||(null==n.fullName?null:n.fullName.touched))),t.xp6(7),t.Q6J("ngIf",(null==n.address?null:n.address.invalid)&&((null==n.address?null:n.address.dirty)||(null==n.address?null:n.address.touched))),t.xp6(7),t.Q6J("ngIf",(null==n.creditCard?null:n.creditCard.invalid)&&((null==n.creditCard?null:n.creditCard.dirty)||(null==n.creditCard?null:n.creditCard.touched))))},directives:[o._Y,o.JL,o.sg,l.KE,l.hX,C.Nt,o.Fj,o.JJ,o.u,o.Q7,l.bx,m.O5,l.TO,p.lW],styles:[".my-form[_ngcontent-%COMP%]{width:85%;min-width:70%}.submission[_ngcontent-%COMP%]{display:flex;flex-direction:column}.submission[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;width:25%}"]}),e})();function M(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12),t._UZ(3,"img",13),t.qZA()(),t.TgZ(4,"div",14)(5,"div",15)(6,"h4"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"mat-form-field",16)(12,"mat-label"),t._uU(13,"Amount"),t.qZA(),t.TgZ(14,"input",17),t.NdJ("ngModelChange",function(s){return t.CHM(r).$implicit.quantity=s})("ngModelChange",function(){const u=t.CHM(r).$implicit;return t.oxw(2).update(u)}),t.qZA()()(),t.TgZ(15,"div",18)(16,"button",19)(17,"mat-icon"),t._uU(18,"more_vert"),t.qZA()(),t.TgZ(19,"mat-menu",20,21)(21,"button",22),t.NdJ("click",function(){const u=t.CHM(r).$implicit;return t.oxw(2).removeProd(u)}),t.TgZ(22,"mat-icon"),t._uU(23,"remove_shopping_cart"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Remove"),t.qZA()()()()()()}if(2&e){const r=i.$implicit,n=t.MAs(20);t.xp6(3),t.Q6J("src",r.url,t.LSH),t.xp6(4),t.hij(" ",r.name," "),t.xp6(2),t.hij(" ",t.lcZ(10,5,r.price)," "),t.xp6(5),t.Q6J("ngModel",r.quantity),t.xp6(2),t.Q6J("matMenuTriggerFor",n)}}function I(e,i){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,M,26,7,"div",5),t.TgZ(3,"div",6)(4,"div",7)(5,"h3",8),t._uU(6),t.ALo(7,"currency"),t.qZA()()()(),t.TgZ(8,"div",9),t._UZ(9,"app-payment-form"),t.qZA()()),2&e){const r=t.oxw();t.xp6(2),t.Q6J("ngForOf",r.cartProducts),t.xp6(4),t.hij("Total : ",t.lcZ(7,2,r.price),"")}}function J(e,i){1&e&&(t.TgZ(0,"div",3)(1,"h3",23),t._uU(2,"Cart is empty"),t.qZA()())}let O=(()=>{class e{constructor(r,n){this.cart=r,this._snackBar=n,this.cartProducts=[],this.price=0}ngOnInit(){this.cart.cartProducts.subscribe(r=>{this.cartProducts=r}),this.cart.totalPrice.subscribe(r=>{this.price=r})}update(r){this.cart.sendProd(r)}removeProd(r){let n=this.cart.removeProd(r);this.openSnackBar(n,"OK!")}openSnackBar(r,n){this._snackBar.open(r,n,{duration:3e3})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(d.N),t.Y36(h.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],decls:4,vars:2,consts:[[1,"py-5"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-6","d-flex","flex-column"],["class","row mb-4",4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col-12"],[1,"ms-5"],[1,"col-md-6"],[1,"row","mb-4"],[1,"col-5"],[1,"img-container"],["alt","",1,"img-fluid",3,"src"],[1,"col-7","d-flex","align-items-center","position-relative"],[1,""],["appearance","standard"],["matInput","","type","number",3,"ngModel","ngModelChange"],[1,"my-menu"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"text-center","fs-2",2,"text-shadow","4px 4px 12px #673ab7","color","#673ab7"]],template:function(r,n){1&r&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,I,10,4,"div",2),t.YNc(3,J,3,0,"div",2),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("ngIf",0!=n.price),t.xp6(1),t.Q6J("ngIf",0==n.price))},directives:[m.O5,m.sg,l.KE,l.hX,C.Nt,o.wV,o.Fj,o.JJ,o.On,p.lW,f.p6,Z.Hw,f.VK,f.OP,U],pipes:[m.H9],styles:[".img-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:170px;border-radius:7px}.my-menu[_ngcontent-%COMP%]{position:absolute;top:2%;right:2%}"]}),e})(),Y=(()=>{class e{constructor(r){this.cart=r,this.bill={}}ngOnInit(){this.bill=this.cart.confirmBill,console.log(this.bill)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(d.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-confirmation"]],decls:25,vars:4,consts:[[1,"py-5"],[1,"container"],[1,"Confirmation","d-flex","flex-column","justify-content-center","align-items-center"],[1,"head","py-3"],[1,"pt-3"],[1,"fw-bold"],["routerLink","/","mat-raised-button","","color","primary"]],template:function(r,n){1&r&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),t._uU(5,"Success!"),t.qZA()(),t.TgZ(6,"div",4)(7,"p"),t._uU(8,"Thank you, "),t.TgZ(9,"span",5),t._uU(10),t.qZA(),t._uU(11,"!"),t.qZA()(),t.TgZ(12,"div",4)(13,"p"),t._uU(14,"Your order "),t.TgZ(15,"span",5),t._uU(16),t.ALo(17,"currency"),t.qZA(),t._uU(18," is confirmed!"),t.qZA()(),t.TgZ(19,"div",4)(20,"p"),t._uU(21,"Please allow 1-3 business day(s) for shipping."),t.qZA()(),t.TgZ(22,"div",4)(23,"button",6),t._uU(24,"Back to Home"),t.qZA()()()()()),2&r&&(t.xp6(10),t.hij(" ",n.bill.fullName," "),t.xp6(6),t.hij(" ",t.lcZ(17,2,n.bill.checkout)," "))},directives:[p.lW,c.rH],pipes:[m.H9],styles:[".Confirmation[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#43ceaf;font-size:4rem}"]}),e})();var Q=a(2717);const w=[{path:"",component:O},{path:"confirmation",component:Y}];let k=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.ez,c.Bz.forChild(w),Q.q,o.u5,o.UX]]}),e})()}}]);