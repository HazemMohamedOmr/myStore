"use strict";(self.webpackChunkmyStore=self.webpackChunkmyStore||[]).push([[281],{2281:(k,_,i)=>{i.r(_),i.d(_,{CartModule:()=>w});var d=i(1083),m=i(9808),t=i(5e3),c=i(5925),h=i(1271),l=i(7322),C=i(7531),o=i(3075),p=i(7423),f=i(2181),Z=i(5245);function v(r,a){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Full Name is Required. "),t.qZA())}function y(r,a){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Full Name must be at least 3 characters long. "),t.qZA())}function T(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,v,2,0,"mat-error",7),t.YNc(2,y,2,0,"mat-error",7),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.fullName||null==e.fullName.errors?null:e.fullName.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.fullName||null==e.fullName.errors?null:e.fullName.errors.minlength)}}function x(r,a){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Address is Required. "),t.qZA())}function b(r,a){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Address must be at least 6 characters long. "),t.qZA())}function A(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,x,2,0,"mat-error",7),t.YNc(2,b,2,0,"mat-error",7),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.minlength)}}function N(r,a){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Credit Card Number is Required. "),t.qZA())}function q(r,a){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Credit Card Number must be at least 16 digit long. "),t.qZA())}function P(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,N,2,0,"mat-error",7),t.YNc(2,q,2,0,"mat-error",7),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.creditCard||null==e.creditCard.errors?null:e.creditCard.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.creditCard||null==e.creditCard.errors?null:e.creditCard.errors.minlength)}}let F=(()=>{class r{constructor(e,n,s,u){this.data=e,this.fb=n,this.router=s,this.route=u,this.price=0,this.paymentForm=this.fb.group({fullName:["",o.kI.compose([o.kI.required,o.kI.minLength(3)])],address:["",o.kI.compose([o.kI.required,o.kI.minLength(6)])],creditCard:["",o.kI.compose([o.kI.required,o.kI.minLength(16)])],checkout:[""]})}ngOnInit(){this.data.totalPrice.subscribe(e=>{this.price=e})}onSubmit(){var e;this.paymentForm.invalid||(null===(e=this.paymentForm.get("checkout"))||void 0===e||e.setValue(this.price),this.data.setConfirmBill(this.paymentForm.value),this.router.navigate(["confirmation"],{relativeTo:this.route}),this.data.resetCartProducts())}get fullName(){return this.paymentForm.get("fullName")}get address(){return this.paymentForm.get("address")}get creditCard(){return this.paymentForm.get("creditCard")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(c.D),t.Y36(o.qu),t.Y36(d.F0),t.Y36(d.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-payment-form"]],decls:29,vars:4,consts:[[1,"d-flex","justify-content-center","mt-4","mt-md-0"],[1,"my-form"],[3,"formGroup","ngSubmit"],[1,"row","mb-4"],["hintLabel","Min 3 characters","appearance","fill"],["matInput","","formControlName","fullName","required","","placeholder","Ex. Hazem Mohamed"],["align","end"],[4,"ngIf"],["hintLabel","Min 6 characters","appearance","fill"],["matInput","","formControlName","address","required","","placeholder","Ex. Cairo, Egypt"],["hintLabel","Min 16 characters","appearance","fill"],["matInput","","formControlName","creditCard","required",""],[1,"submission"],[1,"text-muted","mb-3"],["type","submit","mat-raised-button","","color","primary"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),t._uU(6,"Full Name"),t.qZA(),t._UZ(7,"input",5)(8,"mat-hint",6),t.YNc(9,T,3,2,"mat-error",7),t.qZA()(),t.TgZ(10,"div",3)(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"Address"),t.qZA(),t._UZ(14,"input",9)(15,"mat-hint",6),t.YNc(16,A,3,2,"mat-error",7),t.qZA()(),t.TgZ(17,"div",3)(18,"mat-form-field",10)(19,"mat-label"),t._uU(20,"Credit-Card-Number"),t.qZA(),t._UZ(21,"input",11)(22,"mat-hint",6),t.YNc(23,P,3,2,"mat-error",7),t.qZA()(),t.TgZ(24,"div",12)(25,"p",13),t._uU(26,"We will never share your payment details with anyone else"),t.qZA(),t.TgZ(27,"button",14),t._uU(28,"Submit"),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.paymentForm),t.xp6(7),t.Q6J("ngIf",(null==n.fullName?null:n.fullName.invalid)&&((null==n.fullName?null:n.fullName.dirty)||(null==n.fullName?null:n.fullName.touched))),t.xp6(7),t.Q6J("ngIf",(null==n.address?null:n.address.invalid)&&((null==n.address?null:n.address.dirty)||(null==n.address?null:n.address.touched))),t.xp6(7),t.Q6J("ngIf",(null==n.creditCard?null:n.creditCard.invalid)&&((null==n.creditCard?null:n.creditCard.dirty)||(null==n.creditCard?null:n.creditCard.touched))))},directives:[o._Y,o.JL,o.sg,l.KE,l.hX,C.Nt,o.Fj,o.JJ,o.u,o.Q7,l.bx,m.O5,l.TO,p.lW],styles:[".my-form[_ngcontent-%COMP%]{width:85%;min-width:70%}.submission[_ngcontent-%COMP%]{display:flex;flex-direction:column}.submission[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;width:25%}"]}),r})();function U(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12),t._UZ(3,"img",13),t.qZA()(),t.TgZ(4,"div",14)(5,"div",15)(6,"h4"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"mat-form-field",16)(12,"mat-label"),t._uU(13,"Amount"),t.qZA(),t.TgZ(14,"input",17),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.quantity=s})("change",function(){const u=t.CHM(e).$implicit;return t.oxw(2).update(u)}),t.qZA()()(),t.TgZ(15,"div",18)(16,"button",19)(17,"mat-icon"),t._uU(18,"more_vert"),t.qZA()(),t.TgZ(19,"mat-menu",20,21)(21,"button",22),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw(2).removeProd(u)}),t.TgZ(22,"mat-icon"),t._uU(23,"remove_shopping_cart"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Remove"),t.qZA()()()()()()}if(2&r){const e=a.$implicit,n=t.MAs(20);t.xp6(3),t.Q6J("src",e.url,t.LSH),t.xp6(4),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",t.lcZ(10,5,e.price)," "),t.xp6(5),t.Q6J("ngModel",e.quantity),t.xp6(2),t.Q6J("matMenuTriggerFor",n)}}function M(r,a){if(1&r&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,U,26,7,"div",5),t.TgZ(3,"div",6)(4,"div",7)(5,"h3",8),t._uU(6),t.ALo(7,"currency"),t.qZA()()()(),t.TgZ(8,"div",9),t._UZ(9,"app-payment-form"),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.cartProducts),t.xp6(4),t.hij("Total : ",t.lcZ(7,2,e.price),"")}}function I(r,a){1&r&&(t.TgZ(0,"div",3)(1,"h3",23),t._uU(2,"Cart is empty"),t.qZA()())}let J=(()=>{class r{constructor(e,n){this.data=e,this._snackBar=n,this.cartProducts=[],this.price=0}ngOnInit(){this.data.cartProducts.subscribe(e=>{this.cartProducts=e}),this.data.totalPrice.subscribe(e=>{this.price=e})}update(e){this.data.sendProd(e)}removeProd(e){let n=this.data.removeProd(e);this.openSnackBar(n,"OK!")}openSnackBar(e,n){this._snackBar.open(e,n,{duration:3e3})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(c.D),t.Y36(h.ux))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart"]],decls:4,vars:2,consts:[[1,"py-5"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-6","d-flex","flex-column"],["class","row mb-4",4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col-12"],[1,"ms-5"],[1,"col-md-6"],[1,"row","mb-4"],[1,"col-5"],[1,"img-container"],["alt","",1,"img-fluid",3,"src"],[1,"col-7","d-flex","align-items-center","position-relative"],[1,""],["appearance","standard"],["matInput","","type","number",3,"ngModel","ngModelChange","change"],[1,"my-menu"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"text-center","fs-2",2,"text-shadow","4px 4px 12px #673ab7","color","#673ab7"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,M,10,4,"div",2),t.YNc(3,I,3,0,"div",2),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",0!=n.price),t.xp6(1),t.Q6J("ngIf",0==n.price))},directives:[m.O5,m.sg,l.KE,l.hX,C.Nt,o.wV,o.Fj,o.JJ,o.On,p.lW,f.p6,Z.Hw,f.VK,f.OP,F],pipes:[m.H9],styles:[".img-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:170px;border-radius:7px}.my-menu[_ngcontent-%COMP%]{position:absolute;top:2%;right:2%}"]}),r})(),O=(()=>{class r{constructor(e){this.data=e,this.bill={}}ngOnInit(){this.bill=this.data.confirmBill,console.log(this.bill)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(c.D))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-confirmation"]],decls:25,vars:4,consts:[[1,"py-5"],[1,"container"],[1,"Confirmation","d-flex","flex-column","justify-content-center","align-items-center"],[1,"head","py-3"],[1,"pt-3"],[1,"fw-bold"],["routerLink","/","mat-raised-button","","color","primary"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),t._uU(5,"Success!"),t.qZA()(),t.TgZ(6,"div",4)(7,"p"),t._uU(8,"Thank you, "),t.TgZ(9,"span",5),t._uU(10),t.qZA(),t._uU(11,"!"),t.qZA()(),t.TgZ(12,"div",4)(13,"p"),t._uU(14,"Your order "),t.TgZ(15,"span",5),t._uU(16),t.ALo(17,"currency"),t.qZA(),t._uU(18," is confirmed!"),t.qZA()(),t.TgZ(19,"div",4)(20,"p"),t._uU(21,"Please allow 1-3 business day(s) for shipping."),t.qZA()(),t.TgZ(22,"div",4)(23,"button",6),t._uU(24,"Back to Home"),t.qZA()()()()()),2&e&&(t.xp6(10),t.hij(" ",n.bill.fullName," "),t.xp6(6),t.hij(" ",t.lcZ(17,2,n.bill.checkout)," "))},directives:[p.lW,d.rH],pipes:[m.H9],styles:[".Confirmation[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#43ceaf;font-size:4rem}"]}),r})();var Y=i(2717);const Q=[{path:"",component:J},{path:"confirmation",component:O}];let w=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[m.ez,d.Bz.forChild(Q),Y.q,o.u5,o.UX]]}),r})()}}]);